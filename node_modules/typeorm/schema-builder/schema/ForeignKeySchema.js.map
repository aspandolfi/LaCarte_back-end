{"version":3,"sources":["../../src/schema-builder/schema/ForeignKeySchema.ts"],"names":[],"mappings":";;AAEA;;GAEG;AACH;IAgCI,4EAA4E;IAC5E,cAAc;IACd,4EAA4E;IAE5E,0BAAY,IAAY,EACZ,WAAqB,EACrB,qBAA+B,EAC/B,eAAuB,EACvB,QAAiB;QAEzB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,qBAAqB,GAAG,qBAAqB,CAAC;QACnD,IAAI,CAAC,mBAAmB,GAAG,eAAe,CAAC;QAC3C,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC7B,CAAC;IAED,4EAA4E;IAC5E,iBAAiB;IACjB,4EAA4E;IAE5E;;OAEG;IACH,gCAAK,GAAL;QACI,MAAM,CAAC,IAAI,gBAAgB,CACvB,IAAI,CAAC,IAAI,EACT,IAAI,CAAC,WAAW,EAChB,IAAI,CAAC,qBAAqB,EAC1B,IAAI,CAAC,mBAAmB,CAC3B,CAAC;IACN,CAAC;IAED,4EAA4E;IAC5E,iBAAiB;IACjB,4EAA4E;IAE5E;;OAEG;IACI,uBAAM,GAAb,UAAc,QAA4B;QACtC,MAAM,CAAC,IAAI,gBAAgB,CACvB,QAAQ,CAAC,IAAI,EACb,QAAQ,CAAC,WAAW,EACpB,QAAQ,CAAC,qBAAqB,EAC9B,QAAQ,CAAC,mBAAmB,EAC5B,QAAQ,CAAC,QAAQ,CACpB,CAAC;IACN,CAAC;IAEL,uBAAC;AAAD,CAlFA,AAkFC,IAAA;AAlFY,4CAAgB","file":"ForeignKeySchema.js","sourcesContent":["import {ForeignKeyMetadata} from \"../../metadata/ForeignKeyMetadata\";\n\n/**\n * Foreign key from the database stored in this class.\n */\nexport class ForeignKeySchema {\n\n    // -------------------------------------------------------------------------\n    // Public Properties\n    // -------------------------------------------------------------------------\n\n    /**\n     * Name of the table which contains this foreign key.\n     */\n    name: string;\n\n    /**\n     * Column names which included by this foreign key.\n     */\n    columnNames: string[];\n\n    /**\n     * Table referenced in the foreign key.\n     */\n    referencedTableName: string;\n\n    /**\n     * Column names which included by this foreign key.\n     */\n    referencedColumnNames: string[];\n\n    /**\n     * \"ON DELETE\" of this foreign key, e.g. what action database should perform when\n     * referenced stuff is being deleted.\n     */\n    onDelete?: string;\n\n    // -------------------------------------------------------------------------\n    // Constructor\n    // -------------------------------------------------------------------------\n\n    constructor(name: string,\n                columnNames: string[],\n                referencedColumnNames: string[],\n                referencedTable: string,\n                onDelete?: string) {\n\n        this.name = name;\n        this.columnNames = columnNames;\n        this.referencedColumnNames = referencedColumnNames;\n        this.referencedTableName = referencedTable;\n        this.onDelete = onDelete;\n    }\n\n    // -------------------------------------------------------------------------\n    // Public Methods\n    // -------------------------------------------------------------------------\n\n    /**\n     * Creates a new copy of this foreign key with exactly same properties.\n     */\n    clone() {\n        return new ForeignKeySchema(\n            this.name,\n            this.columnNames,\n            this.referencedColumnNames,\n            this.referencedTableName\n        );\n    }\n\n    // -------------------------------------------------------------------------\n    // Static Methods\n    // -------------------------------------------------------------------------\n\n    /**\n     * Creates a new foreign schema from the given foreign key metadata.\n     */\n    static create(metadata: ForeignKeyMetadata) {\n        return new ForeignKeySchema(\n            metadata.name,\n            metadata.columnNames,\n            metadata.referencedColumnNames,\n            metadata.referencedTableName,\n            metadata.onDelete\n        );\n    }\n\n}"],"sourceRoot":"../.."}